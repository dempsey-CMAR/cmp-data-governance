<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Governance - Overview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Data Governance</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../pages/cmp_overview.html">
 <span class="menu-text">Program Overview</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pages/quality_control.html">
 <span class="menu-text">Quality Control</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pages/temperature.html">
 <span class="menu-text">Temperature</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-dissolved-oxygen" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Dissolved Oxygen</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-dissolved-oxygen">    
        <li>
    <a class="dropdown-item" href="../pages/do_overview.html">
 <span class="dropdown-text">Overview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../pages/do_measurements.html">
 <span class="dropdown-text">CMAR Measurements</span></a>
  </li>  
    </ul>
  </li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#units" id="toc-units" class="nav-link active" data-scroll-target="#units">Units</a></li>
  <li><a href="#supersaturation" id="toc-supersaturation" class="nav-link" data-scroll-target="#supersaturation">Supersaturation</a></li>
  <li><a href="#biofouling" id="toc-biofouling" class="nav-link" data-scroll-target="#biofouling">Biofouling</a></li>
  <li><a href="#other-challenges" id="toc-other-challenges" class="nav-link" data-scroll-target="#other-challenges">Other Challenges</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Overview</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Dissolved oxygen (DO) is a measure of the amount of gaseous oxygen dissolved in water, which is a key water quality parameter for much aquatic life <span class="citation" data-cites="RN26876">(<a href="#ref-RN26876" role="doc-biblioref">Santana et al. 2017</a>)</span>. There are many drivers of DO variability, including biological activity (e.g., photosynthesis, respiration, plankton blooms), physical processes (e.g., air-sea exchange, tidal events, meteorology, seasonal stratification), and chemical reactions (e.g., oxidation of organic material) <span class="citation" data-cites="RN26876 RN26562">(<a href="#ref-RN26876" role="doc-biblioref">Santana et al. 2017</a>; <a href="#ref-RN26562" role="doc-biblioref">IOOS 2018</a>)</span>. DO is typically higher near the surface, where it is produced by photosynthetic organisms and is in flux to maintain equilibrium with the atmosphere (refs). DO is distributed to deeper waters by vertical mixing and diffusion.</p>
<section id="units" class="level2">
<h2 class="anchored" data-anchor-id="units">Units</h2>
<p>Dissolved oxygen can be measured in different units, including concentration and percent saturation <span class="citation" data-cites="RN26886">(<a href="#ref-RN26886" role="doc-biblioref">Bittig 2018</a>)</span>. For fisheries and aquaculture applications, concentration is often reported in milligrams of gaseous oxygen per litre of water (mg / L) <span class="citation" data-cites="RN13158">(<a href="#ref-RN13158" role="doc-biblioref">Bittig et al. 2018</a>)</span>, which is equivalent to parts per million (ppm).</p>
<p>Percent saturation describes how “full” of oxygen the water is (<a href="#eq-percent-sat-conc">Equation&nbsp;1</a>). The maximum amount of oxygen that can be dissolved depends on the water temperature, salinity, and barometric pressure (<a href="#fig-do-solubility-sal">Figure&nbsp;1</a>, <a href="#fig-do-solubility-press">Figure&nbsp;2</a>). For units of concentration, this theoretical maximum is called the DO solubility, and is typically calculated from equations based on those developed by Benson and Krause (1980, 1984) and Garcia and Gordon (1992)<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> <span class="citation" data-cites="RN26883">Cloern (<a href="#ref-RN24266" role="doc-biblioref">1999</a>)</span>. The percent saturation is the <em>measured</em> DO concentration as fraction of the DO solubility (<a href="#eq-percent-sat-conc">Equation&nbsp;1</a>).</p>
<p><span id="eq-percent-sat-conc"><span class="math display">\[
DO_{\%saturation} = 100 * DO_{concentration}/DO_{solubility}
\tag{1}\]</span></span></p>
<p>Percent saturation can also be calculated from partial pressures, although DO is not typically expressed in pressure units (<a href="#eq-percent-sat-pp">Equation&nbsp;2</a>). In this case, the maximum amount of DO that can be dissolved is the partial pressure of oxygen in the air (<span class="math inline">\(pO_{2, air}\)</span>), as calculated in SCOR WG 142 <span class="citation" data-cites="RN26886">(<a href="#ref-RN26886" role="doc-biblioref">Bittig 2018</a>)</span>. The actual amount of DO in the water is measured by the sensor in corresponding pressure units (<span class="math inline">\(pO_2\)</span>).</p>
<p><span id="eq-percent-sat-pp"><span class="math display">\[
DO_{\%saturation} = 100 * pO_2 / pO_{2, air}
\tag{2}\]</span></span></p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-do-solubility-sal" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="do_overview_files/figure-html/fig-do-solubility-sal-1.png" class="img-fluid figure-img" width="4800"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Relationship between DO solubility and temperature at five values of salinity (pressure = 1 atm). Note that DO solubility decreases with increasing temperature and salinity.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-do-solubility-press" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="do_overview_files/figure-html/fig-do-solubility-press-1.png" class="img-fluid figure-img" width="4800"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: Relationship between DO solubility and temperature at three values of barometric pressure (in freshwater). Note that DO solubility increases with increasing pressure.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Conversion between DO units can be non-trivial <span class="citation" data-cites="RN26886">(<a href="#ref-RN26886" role="doc-biblioref">Bittig 2018</a>)</span>. DO solubility is used to convert between units of concentration and percent saturation, which means estimates of temperature, salinity, and pressure are required. For the most accurate conversion, each DO observation should have a corresponding observation of these water properties. However, this is not always feasible, particularly for long deployments. Single value estimates can be used to convert data from the whole deployment (refs)</p>
</section>
<section id="supersaturation" class="level2">
<h2 class="anchored" data-anchor-id="supersaturation">Supersaturation</h2>
<p>When the measured DO concentration is greater than the DO solubility (<span class="math inline">\(DO_{\%saturation} &gt; 100 \%\)</span>), the water is considered “supersaturated”. Supersaturated water is typically caused by photosynthetic organisms, which are a large source of pure oxygen to the water column (<span class="citation" data-cites="RN26885">YSI (<a href="#ref-RN26885" role="doc-biblioref">2019</a>)</span>; <span class="citation" data-cites="RN12865">Craig and Hayward (<a href="#ref-RN12865" role="doc-biblioref">1987</a>)</span>)<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>. Additionally, a rapid increase in temperature can decrease the DO solubility without altering the measured DO concentration, resulting in saturation values greater than 100 %<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. The excess DO will eventually diffuse into the atmosphere, but this process is not instantaneous (<strong>ref</strong>).</p>
</section>
<section id="biofouling" class="level2">
<h2 class="anchored" data-anchor-id="biofouling">Biofouling</h2>
<p>A major challenge of accurately measuring DO near the surface<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> is the growth of aquatic organisms on and around the sensor, called biofouling <span class="citation" data-cites="RN26877">(<a href="#ref-RN26877" role="doc-biblioref">OOI 2022</a>)</span>. Biofouling can range from a small film of algae, to large colonies/growths of seaweed, to colonies of mollusks <strong>Insert CMAR photos</strong>. The daily cycle of photosynthesis (oxygen production during the day) and respiration (oxygen consumption, relatively higher at night) of these organisms can cause extreme variability in the DO measurements. The recorded DO therefore reflects the microcosm growing on the sensor, but not the ambient environment. This signal can occur within a month or two of deployment <span class="citation" data-cites="RN26877">(<a href="#ref-RN26877" role="doc-biblioref">OOI 2022</a>)</span>, depending on time time of year and location. Other impacts of biofouling can include signal attenuation, sensor drift, and decreased mooring depth from the additional weight <span class="citation" data-cites="RN26562">(<a href="#ref-RN26562" role="doc-biblioref">IOOS 2018</a>)</span>.</p>
<p>Anti-fouling strategies can be employed to reduce fouling and improve data quality, although these present other challenges. Sensors can be cleaned regularly to remove growth (e.g., every 2 - 4 weeks), although this may not be feasible for many reasons (e.g., cost and time constraints). Some sensors have built-in anti-fouling mechanisms such as wipers <span class="citation" data-cites="RN26903">(<a href="#ref-RN26903" role="doc-biblioref">PME 2023</a>)</span> or UV light <span class="citation" data-cites="RN26901">(<a href="#ref-RN26901" role="doc-biblioref">Mariscope 2020</a>)</span> to reduce growth, but these sensors tend to be expensive and have reduced battery life. Copper (a natural biocide) tape, wire, or screens around the sensor can reduce fouling for several weeks, although this can also become expensive and may not be sufficient for longer deployments <span class="citation" data-cites="RN26887">(<a href="#ref-RN26887" role="doc-biblioref">YSI 2023</a>)</span>.</p>
</section>
<section id="other-challenges" class="level2">
<h2 class="anchored" data-anchor-id="other-challenges">Other Challenges</h2>
<p>Quality control of DO data can also be challenging and time consuming. There is a broad range of “reasonable” DO values, depending on the location, depth, season, oceanographic conditions, etc. Rapid and extreme variability may reflect the natural processes that are of interest to the monitoring program, including phytoplankton blooms, storms, and upwelling. However, this signal could also be a result of biofouling. To identify the most likely driver, further investigation is required. For example, the timing of the variability with respect to sensor deployment, time of year, and co-located variables could provide insight into the reliability of the measurements. It is also difficult to detect and quantify sensor drift over time for a single deployment. Consecutive deployments at the same station can highlight drift <span class="citation" data-cites="RN26562">(<a href="#ref-RN26562" role="doc-biblioref">IOOS 2018</a>)</span>.</p>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-RN26883" class="csl-entry" role="doc-biblioentry">
Benson, Bruce B., and Daniel Krause Jr. 1980. <span>“The Concentration and Isotopic Fractionation of Gases Dissolved in Freshwater in Equilibrium with the Atmosphere. 1. Oxygen.”</span> Journal Article. <em>Limnology and Oceanography</em> 25 (4): 662–71. https://doi.org/<a href="https://doi.org/10.4319/lo.1980.25.4.0662">https://doi.org/10.4319/lo.1980.25.4.0662</a>.
</div>
<div id="ref-RN24333" class="csl-entry" role="doc-biblioentry">
———. 1984. <span>“The Concentration and Isotopic Fractionation of Oxygen Dissolved in Freshwater and Seawater in Equilibrium with the Atmosphere1.”</span> Journal Article. <em>Limnology and Oceanography</em> 29 (3): 620–32. https://doi.org/<a href="https://doi.org/10.4319/lo.1984.29.3.0620">https://doi.org/10.4319/lo.1984.29.3.0620</a>.
</div>
<div id="ref-RN26886" class="csl-entry" role="doc-biblioentry">
Bittig, Henry C. 2018. <span>“Recommendations on the Conversion Between Oxygen Quantities for Bio‐argo Floats and Other Autonomous Sensor Platforms.”</span>
</div>
<div id="ref-RN13158" class="csl-entry" role="doc-biblioentry">
Bittig, Henry C., Arne Körtzinger, Craig Neill, Eikbert van Ooijen, Joshua N. Plant, Johannes Hahn, Kenneth S. Johnson, Bo Yang, and Steven R. Emerson. 2018. <span>“Oxygen Optode Sensors: Principle, Characterization, Calibration, and Application in the Ocean.”</span> Journal Article. <em>Frontiers in Marine Science</em> 4 (429). <a href="https://doi.org/10.3389/fmars.2017.00429">https://doi.org/10.3389/fmars.2017.00429</a>.
</div>
<div id="ref-RN24266" class="csl-entry" role="doc-biblioentry">
Cloern, James E. 1999. <span>“The Relative Importance of Light and Nutrient Limitation of Phytoplankton Growth: A Simple Index of Coastal Ecosystem Sensitivity to Nutrient Enrichment.”</span> Journal Article. <em>Aquatic Ecology</em> 33 (1): 3–15. <a href="https://doi.org/10.1023/A:1009952125558">https://doi.org/10.1023/A:1009952125558</a>.
</div>
<div id="ref-RN12865" class="csl-entry" role="doc-biblioentry">
Craig, H., and T. Hayward. 1987. <span>“Oxygen Supersaturation in the Ocean: Biological Versus Physical Contributions.”</span> Journal Article. <em>Science</em> 235 (4785): 199–202. <a href="https://www.science.org/doi/10.1126/science.235.4785.199">https://www.science.org/doi/10.1126/science.235.4785.199</a>.
</div>
<div id="ref-RN26562" class="csl-entry" role="doc-biblioentry">
IOOS. 2018. <span>“QARTOD Manual for Real-Time Quality Control of Dissolved Oxygen Observations.”</span> <a href="https://ioos.noaa.gov/ioos-in-action/manual-real-time-quality-control-dissolved-oxygen-observations/">https://ioos.noaa.gov/ioos-in-action/manual-real-time-quality-control-dissolved-oxygen-observations/</a>.
</div>
<div id="ref-RN26901" class="csl-entry" role="doc-biblioentry">
Mariscope. 2020. <span>“UV Light Tackles Problematic Underwater Growth.”</span> Magazine Article. <em>International Ocean Systems</em>. <a href="https://www.mariscope.de/2020/06/01/uv-light-tackles-problematic-underwater-growth/">https://www.mariscope.de/2020/06/01/uv-light-tackles-problematic-underwater-growth/</a>.
</div>
<div id="ref-RN26877" class="csl-entry" role="doc-biblioentry">
OOI. 2022. <span>“OOI Biogeochemical Sensor Data: Best Practices &amp; User Guide.”</span> <a href="https://repository.oceanbestpractices.org/bitstream/handle/11329/2112/OOI%20Biogeochemical%20Sensor%20Data%20Best%20Practices%20and%20User%20Guide.pdf?sequence=1&amp;isAllowed=y">https://repository.oceanbestpractices.org/bitstream/handle/11329/2112/OOI%20Biogeochemical%20Sensor%20Data%20Best%20Practices%20and%20User%20Guide.pdf?sequence=1&amp;isAllowed=y</a>.
</div>
<div id="ref-RN26903" class="csl-entry" role="doc-biblioentry">
PME. 2023. <span>“miniWIPER.”</span> Pamphlet. <a href="https://www.pme.com/wp-content/uploads/2016/03/miniWIPER_061317-1.pdf">https://www.pme.com/wp-content/uploads/2016/03/miniWIPER_061317-1.pdf</a>.
</div>
<div id="ref-RN26876" class="csl-entry" role="doc-biblioentry">
Santana, Rafael, Guilherme Lessa, John Haskins, and Kerstin Wasson. 2017. <span>“Continuous Monitoring Reveals Drivers of Dissolved Oxygen Variability in a Small California Estuary.”</span> Journal Article. <em>Estuaries and Coasts</em> 41. <a href="https://doi.org/10.1007/s12237-017-0329-8">https://doi.org/10.1007/s12237-017-0329-8</a>.
</div>
<div id="ref-RN26885" class="csl-entry" role="doc-biblioentry">
YSI. 2019. <span>“Environmental Dissolved Oxygen: VALUES GREATER THAN 100.”</span> <a href="https://www.ysi.com/file%20library/documents/technical%20notes/t602-environmental-dissolved-oxygen-values-above-100-percent-air-saturation.pdf">https://www.ysi.com/file%20library/documents/technical%20notes/t602-environmental-dissolved-oxygen-values-above-100-percent-air-saturation.pdf</a>.
</div>
<div id="ref-RN26887" class="csl-entry" role="doc-biblioentry">
———. 2023. <span>“Anti-Fouling Copper Tape.”</span> <a href="https://www.ysi.com/accessory/id-616189/anti-fouling-copper-tape">https://www.ysi.com/accessory/id-616189/anti-fouling-copper-tape</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>The USGS has an online DO solubility calculator based on the Benson and Krause equations (<a href="https://water.usgs.gov/water-resources/software/DOTABLES/">DOTABLES</a>). The CMAR R package <code>docalcs</code> provides functions for calculating solubility and correction factors based on Benson and Krause and Garcia and Gordon. See the CMAR DO cheat sheet for more information about these equations.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>This is important because DO sensors are typically calibrated in <em>air</em>-saturated water (or water-saturated air). Air is only ~ 21 % oxygen, so there are nearly 5 times more <span class="math inline">\(O_2\)</span> molecules in pure oxygen compared to the same volume of air. This means that a sensor reading from <em>air</em>-saturated water would be 100 %, while a reading from pure <em>oxygen</em>-saturated water would be ~ 500 %. Photosynthesis can therefore account for very high percent saturation measurements <span class="citation" data-cites="RN26885">(<a href="#ref-RN26885" role="doc-biblioref">YSI 2019</a>)</span>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>For example, consider a DO concentration of 10 mg / L in freshwater at 10 degree C and 1 atm. The DO solubility is 11.29 mg / L (<a href="#fig-do-solubility-sal">Figure&nbsp;1</a>), and so the percent saturation is 10 / 11.29 = 88.6 %. If the temperature during the day warmed to 20 degrees C, the DO solubility would decrease to 9.09 mg / L (<a href="#fig-do-solubility-sal">Figure&nbsp;1</a>). The measured concentration remains 10 mg / L, and so the percent saturation is now 10 / 9.09 = 110 %.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>in the euphotic zone<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>